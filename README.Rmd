---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  warning = FALSE,
  comment = "##",
  fig.path = "man/figures/README-",
  fig.height = 5,
  fig.width = 5
#  out.width = "100%"
)

library(HistData)
```

<!-- badges: start -->
[![Lifecycle: stable](https://img.shields.io/badge/lifecycle-stable-brightgreen.svg)](https://lifecycle.r-lib.org/articles/stages.html#stable)
[![CRAN_Status_Badge](http://www.r-pkg.org/badges/version/HistData)](https://cran.r-project.org/package=HistData)
[![HistData status badge](https://friendly.r-universe.dev/badges/HistData)](https://friendly.r-universe.dev/HistData)
[![Last Commit](https://img.shields.io/github/last-commit/friendly/HistData)](https://github.com/friendly/HistData)
[![cranlog](http://cranlogs.r-pkg.org/badges/grand-total/HistData)](https://cran.r-project.org/package=HistData)
[![DOI](https://zenodo.org/badge/106572219.svg)](https://zenodo.org/badge/latestdoi/106572219)
[![docs](https://img.shields.io/badge/documentation-blue)](https://friendly.github.io/HistData/)

<!-- badges: end -->


# HistData  <img src="man/figures/logo.png" align="right" height="200px" />
**Data Sets from the History of Statistics and Data Visualization**

<!-- Dev. Version: 1.0.0 -->
Version `r getNamespaceVersion("HistData")`

The `HistData` package provides a collection of small data sets
that are interesting and important in the history of statistics and data
visualization. The goal of the package is to make these available, both for
instructional use (as examples, problem sets or projects) and for historical research
(extending or criticizing a previous analysis).
Some of these present interesting challenges, or opportunities to "show off",
with graphics or analysis in R. 

Many of the data sets contained here have examples which reproduce an historical graph or analysis.
These are meant mainly as simple starters for more extensive re-analysis or graphical
elaboration.  If you are interested in any of these problems or data sets, there is
lots of room to do better!

Some of these  been featured in social media calls for participation, such as the [30 Day Chart Challenge](https://github.com/30DayChartChallenge/Edition2025)


This is part of a program of research called *statistical historiography*
(Friendly, 2007; Friendly & Denis, 2001; Friendly et-al, 2016)
meaning the use of statistical methods to study problems and questions in the
history of statistics and graphics. A main aspect of this is the increased
understanding of historical problems in science and data analysis
trough the process of trying to reproduce a graph or analysis using
modern methods. I call this "Re-visioning", meaning _to see again, hopefully in a new light_.

They are also used in our book, (Friendly & Wainer, 2021),
_A History of Data Visualization & Graphic Communication_, Harvard University Press, ISBN 9780674975231.
See also the [companion website for this book](https://friendly.github.io/HistDataVis/).

If you are looking more widely for datasets to use for examples, teaching or research, check out Vincent Arel-Bundock's
[Rdatasets](https://vincentarelbundock.github.io/Rdatasets/) package, with over 2500 datasets from various
R packages, with this list of [Available datasets](https://vincentarelbundock.github.io/Rdatasets/articles/data.html).

### Data science

There is another R aspect of the HistData project that should be noted here:

A great deal of "data sciency" work was involved in constructing this package. 
This may not be evident in what you see in the resulting `HistData` package you see, but for those interested in this form of 
_History Data Mining_, here are some of the aspects involved:

* In some cases, data had to be **extracted** from dusty historical documents, 
using a variety of techniques (web scraping, OCR of PDF files followed by conversion to a data set). Each problem had its own toolbox, inside R or outside. In many cases, _transcription errors_ had to be corrected  with code or manually. This is much simpler today with many tools, and the possibility to enlist an AI companion. But, whatever you use, you'd better _check the work_. Some of the more interesting stories of statistical historiography involve uncovering transcription errors.

* **Digitization** of data from an image. When the data is only available in an image, you can extract it with more modern tools than were available when I started this in 2007.  Among the newer ones: [WebPlotDigitizer](https://automeris.io/), [PlotDigitizer](https://plotdigitizer.com/). But, where accuracy is important, you should think about the reliability
and valitity of what you got from an image (Drevon etal. (2016)).

* **Conversion** of text-based data sets to a CSV file and then to an `.RData` file with proper column names. Ever you seen a Unix `.shar` (shell archive) file? Well, I have. What about an old codebook prepared for a survey? Modern R packages can read
data in a much wider variety of formats today, but older material still presents challenges.

* **Cleaning** variable names: Some of this can now be done using e.g.,`janitor::clean_names()`, or, in some cases, manually editing an excel file you got. What to do about `very_long_variable_names` or those abbrvd 2 shrt?

* Applying **Type-conversion**, e.g., `chr` to `factor` or `ordered` required thinking about what a variable represented.
In some cases, appropriate contrasts for factors were constructed to facilitate re-analysis. Pay attention to `StringsAsFactors`.

* **Tidying** data.frames: Initially, most of this was done in base R, but as they came along `tidyverse` tools made these tasks much easier, e.g.,
conversion of long <--> wide, separating implicit columns, like "1800-1850", abbreviations of character string labels, ...

* **Documentation**: The thankless task? No -- considerable effort was made to give detailed descriptions, notes on methods, executable examples, references to original sources and analyses, ...

* **Dataset documentation**: Originally, I wrote most of the documentation for datasets using `utils::prompt(dataset)`. There isn't anything like this to generate roxygen documentation for a dataset, so I wrote something [use_data_doc.R](https://gist.github.com/friendly/14f3ee1464213bb0b9fbcb489468383b) to do this.

* **Documentation style**:  In this release, all the documentation was converted first from manually written `.Rd` files, to `roxygen` format using [Rd2roxygen](https://cran.r-project.org/package=Rd2roxygen). This package does a reasonable job, but gets a few things wrong. E.g., one that required a complicated regex to convert `\item{list("VarName")}` to the correct format 
`\item{\code{VarName}}`. But documentation is even easier to edit and maintain using markdown format,
as converted again by [roxygen2md](https://cran.r-project.org/package=roxygen2md).

* **Ask AI**: A few tasks were aided by Claude Sonnet 4.5. I wanted to add `@concept` descriptors to datasets reflecting 
the statistical and graphical concepts that each dataset can be used to illustrate. It made a list, which I heavily edited,
and also an R script to add these to the documentation.


## Installation

Get the released version from CRAN 

    install.packages("HistData")

The development version can be installed to your R library directly from github or my [R-universe](https://friendly.r-universe.dev/) via:

    install.packages('HistData', repos = 'https://friendly.r-universe.dev')
    remotes::install_github("friendly/HistData")

## Data sets
Here are the data sets in the package, with links to their documentation. Some topics are represented by two or more
data sets.

```{r datasets, results='asis'}
# link dataset to pkgdown doc
refurl <- "https://friendly.github.io/HistData/reference/"

dsets <- vcdExtra::datasets("HistData") |> 
  dplyr::select(Item, Title) |> 
  dplyr::mutate(Item = glue::glue("[{Item}]({refurl}{Item}.html)")) 

library(tinytable)
# tt(dsets) |>
#   format_tt(j = 1, markdown = TRUE) |>
#   style_tt(j = 1, bootstrap_css = "width: 30%;") |>
#   style_tt(j = 2, bootstrap_css = "width: 70%;")
tt(dsets, width = c(.2, .8)) |> 
    format_tt(j = 1, markdown = TRUE) 
```

## See also

* The [Horsekicks package](https://cran.r-project.org/package=Horsekicks) contains the classic data from von Bortkeiwicz, "Death by the kick of a horse in the Prussian Army", with additional data on
deaths by falling from a horse and by drowning. 
<!-- A [vignette](https://cran.r-project.org/web/packages/Horsekicks/vignettes/hkdeaths.html) provides some analyses.  -->

* [Rdatasets](https://vincentarelbundock.github.io/Rdatasets/) is a collection of over 2500 datasets
culled from CRAN packages to make them broadly accessible for teaching and statistical software development.

## Contributors
Please note that the `HistData` project is released with a [Contributor Code of Conduct](https://friendly.github.io/HistData/CODE_OF_CONDUCT.html). By contributing to this project, you agree to abide by its terms.

Over the years, many people have contributed new data sets, offered corrections,
suggestions, or documentation examples. They are appreciatively listed below:

David Bellhouse,
Brian Clair,
Stephane Dray, 
Luiz Droubi,
Antoine de Falguerolles,
Monique Graf,
James Hanley, 
Peter Li, 
Dennis Murphy, 
Jim Oeppen,
James Riley,
Neville Verlander, 
Hadley Wickham. 

## References

Drevon, D., Fursa, S. R., & Malcolm, A. L. (2016). Intercoder Reliability and Validity of WebPlotDigitizer in Extracting Graphed Data. *Behavior Modification*, **41**(2), 323â€“339. https://doi.org/10.1177/0145445516673998

Friendly, M. (2007). A Brief History of Data Visualization.
In Chen, C., Hardle, W. & Unwin, A. (eds.)  
*Handbook of Computational Statistics: Data Visualization*, Springer-Verlag, III, Ch. 1, 1-34.
[Preprint](http://datavis.ca/papers/hbook.pdf)

Friendly, M. & Denis, D. (2001).
Milestones in the history of thematic cartography, statistical graphics, and data visualization.
Web stite: [http://datavis.ca/milestones/](http://datavis.ca/milestones/)

Friendly, M. & Sigal, M. & Harnanansingh, D. (2016).
"The Milestones Project: A Database for the History of Data Visualization,"
In Kostelnick, C. & Kimball, M. (ed.), *Visible Numbers: The History of Data Visualization*, Ashgate Press, Chapter 10. [Preprint](https://www.datavis.ca/papers/MilestonesProject.pdf)

Friendly, M. & Wainer, H. (2021). _A History of Data Visualization and Graphic Communication_, Harvard University Press,
ISBN 9780674975231. Companion [web site](https://friendly.github.io/HistDataVis/)

